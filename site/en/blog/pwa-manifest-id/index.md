---
layout: 'layouts/blog-post.njk'
title: Uniquely identifying PWAs with the web app manifest id property
authors:
  - petelepage
date: 2021-09-16
description: |
  There's a new optional `id` property as part of the web app manifest spec,
  that allows you to explicitly define the identifier used for your PWA.
  Adding the `id` property to the manifest removes the dependency on the
  `start_url` or the location of the manifest, and makes it possible for
  them to be updated in the future.
tags:
  - progressive-web-apps
  - chrome-96
---

When the user installs your PWA, the browser needs a way to uniquely identify
the PWA. But, until recently, the web app manifest spec didn't explicitly
define a way to uniquely identify a PWA, leaving browsers to decide and
leading to different implementations. In some browsers, the `start_url`
is used, while in others, the path to the manifest file is used, making it
impossible to update either of those fields.

To solve this issue, there's a new optional `id` property in the web app
manifest spec, that allows you to explicitly define the identifier used for
your PWA. Adding the `id` property to the manifest removes the dependency on
the `start_url` or the location of the manifest, and makes it possible for
them to be updated in the future.

## What does the `id` property do?

The `id` property represents the identity of the PWA to the browser. When
the browser sees a manifest that does not have an identity that matches an
already installed PWA, it will treat it as a new PWA, even if it is served
from the same URL as another PWA. But if it sees a manifest with an identity
that matches the already installed PWA, it will treat that as the installed PWA.

## Browser support

Starting with version 96, the `id` property is supported on desktop and
mobile Chromium-based browsers and on Firefox beginning with version 95.
{% BrowserCompat 'html.manifest.id' %}

## How do I determine and set my `id`? {: #determine-id }

The safest, and the most accurate, way to determine the `id` for a PWA
is to check the value calculated by Chrome.

1. Using Chrome 96 or higher, open the **Manifest** pane of the **Application**
   panel in DevTools.
1. Check the **Note** below the **Computed App Id** property. The note will
   only appear when the `id` is **not** specified in the web app manifest file.
1. Check the suggested `id` value shown in the note (see screenshot below).
1. Add an `id` property to the web app manifest using the `id` value shown in
   the note.

{% Img src="image/0g2WvpbGRGdVs0aAPc6ObG7gkud2/7vo2XUpQxz0RWfWBuLDa.png", class="screenshot", alt="Note showing 'id' value.", width="800", height="175" %}

```json
{
  ...
  id: "/?homescreen=1",
  start_url: "/?homescreen=1",
  ...
}
```

{% Aside 'caution' %}
In some cases, the `id` may not be the same as the `start_url`, therefore it
is always **best** to verify the actual `id` value generated by Chrome in
DevTools.
{% endAside %}

## What if I don't set an `id`?

**Don't worry, nothing will break**. Starting in Chrome 96 on desktop, the
browser generates an `id` if there is not one in the manifest. On desktop,
it will be calculated based on the `start_url` in the web app manifest.

Adding an `id` to the web app manifest makes it possible to change the
`start_url` and the manifest path, because the browser identifies the PWA
based on the specified `id`, rather than the `start_url` or manifest path.

## How do I test this?

To test the behaviour, follow these steps:

1. Open Chrome 96 or later and install the PWA.
1. Open `about://web-app-internals/` and check the `unhashed_app_id` and
   `start_url` property for the installed PWA.
1. Add an `id` property to your web app manifest following the steps in
   [How do I determine and set my `id`](#determine-id) above.
1. Restart the browser using `chrome://restart`, launch the PWA from
   `about://apps`, then close the PWA to force the manifest file to refresh.
1. Open `about://web-app-internals/` and check the `manifest_id` property for
   the installed PWA to verify it hasn't changed.
1. Change the `start_url` in the web app manifest.
1. Restart the browser using `chrome://restart`, launch the PWA from
   `about://apps`, then close the PWA to force the manifest file to refresh.
1. Open `about://web-app-internals/` and check the `start_url` property for
   the installed PWA to verify it has been updated as expected.

## Additional resources

- [Explainer][explainer]
- [Design doc][design-doc]
- [`id` property in Editor's draft of the Manifest spec][draft-spec]

[draft-spec]: https://w3c.github.io/manifest/#id-member
[explainer]: https://github.com/philloooo/pwa-unique-id/blob/main/explainer.md
[design-doc]: https://docs.google.com/document/u/2/d/1f9xQR1msTxiYvzFguKMkqSfrXMo_cT2yvhCEM3SYIt0/preview

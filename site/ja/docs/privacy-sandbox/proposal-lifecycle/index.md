---
layout: layouts/doc-post.njk
title: プライバシー サンドボックスの提案のライフサイクル
date: 2022-03-30
authors:
  - alexandrawhite
---

_こちらのコンテンツの多くは、元々は [2021 年の Chrome Developer Summit のまとめ](/docs/privacy-sandbox/cds21-update/)の一部として共有されていたものです。_

## プライバシー サンドボックスの提案の目的

プライバシー
サンドボックスの提案は、ウェブ標準の作成に必要な数多くのステップのうちの最初のステップです。

ウェブ標準とは、ウェブ
テクノロジーがどのように機能すべきかについて正確に詳述している技術ドキュメント（仕様）です。このような仕様は、デベロッパーがテクノロジーを実装するためのものです。たとえば、[Accessible Rich Internet Applications（WAI-ARIA）標準](https://www.w3.org/TR/wai-aria-1.1/)（一般的に「ARIA」と呼ばれる）は、障がいのあるユーザーがウェブを利用しやすくなる技術的な方法を定義しています。この仕様は、[World Wide Web Consortium（W3C）](https://www.w3.org/Consortium/)というフルタイム
スタッフ、会員組織、一般ユーザーのフィードバックからなる国際的なコミュニティによって定められています。

[ディスカッション](/docs/privacy-sandbox/proposal-lifecycle/#discussion)、[テスト](/docs/privacy-sandbox/proposal-lifecycle/#testing)、[大規模な導入](/docs/privacy-sandbox/proposal-lifecycle/#scaled-adoption)の後、一部の提案が仕様になります。デベロッパーや業界リーダー（ウェブ
テクノロジーに関する知識の有無は問わず）から[フィードバックを受け取る](/docs/privacy-sandbox/feedback/)ことで、ユーザーのために幅広い有用性と堅牢なプライバシー保護機能を備えた耐久性のあるウェブ機能を作成できるようにすることが重要です。

Chromium（多数の最新ブラウザのベースとなっているオープンソース
プラットフォーム）には、ウェブ標準になることを目標とするすべてのテクノロジーの[機能開発プロセス](https://www.chromium.org/blink/launching-features/)についての記述があります。ウェブのプライバシーとセキュリティは極めて重要であるため、Google
ではテスト開始までに多くのディスカッションを行い、多くのフィードバックを受け取ることを期待・推奨しています。

## 提案からウェブ標準になるまで

開発のあらゆる段階において、Web コミュニティーからのたくさんの意見がこの取り組みを形作っています。このプロセスはウェブ
デベロッパーにはなじみがあるかもしれませんが、他の業界関係者にとってはなじみがない可能性があります。しかし、今後このような専用
API
を使用することになるため、ウェブデベロッパー外の業界関係者の人々の意見もこの取り組みにおいて不可欠です。

### まずはディスカッションから

この数年間、Chrome
などから[プライバシー保護に関する提案](https://github.com/w3c/web-advertising#ideas-and-proposals-links-outside-this-repo)が多数提供されてきました。これらの提案を読んで質問し、アイデアを提供することで、提案を改善したり他者の意見を確認したりすることができます。

提案されたソリューションについて議論が交わされている会話を見つけられるよう、関心のあるユースケースに応じて、参加またはモニタリングできる
W3C グループがいくつもあります。（全て英語）

- [「ウェブ広告ビジネスの改善」グループ](https://www.w3.org/community/web-adv/)

- [プライベート広告テクノロジー コミュニティグループ](https://www.w3.org/community/patcg/)

- [プライバシー コミュニティグループ](https://www.w3.org/community/privacycg/)

- [ウェブ プラットフォーム インキュベーター コミュニティグループ](https://www.w3.org/community/wicg/)

- [フェデレーション ID コミュニティグループ](https://www.w3.org/community/fed-id/)

ディスカッションの段階は、非常に複雑になる場合があります。

たとえば、[FLEDGE](https://github.com/WICG/turtledove/blob/main/FLEDGE.md)
は、クロスサイト トラッキングを行わずにインタレスト
ベースの広告をサポートするための提案です。FLEDGE
は、プライバシーを強く望む人々や多くの業界関係者の意見を参考に、以前の 2
つの提案（PIGIN と TURTLEDOVE）から進化しました。100 以上の組織が [W3C での会議](https://github.com/WICG/turtledove/issues/88)に参加して現行バージョンの改善を支援し、[オンランディスカッション スレッドも 200](https://github.com/WICG/turtledove/issues)
を超えました。

{% Img src="image/VbsHyyQopiec0718rMq2kTE1hke2/Rg4lEQVzb1v6CZTyzFTE.png", alt="2019 年に PIGIN が提案され、2020 年に TURTLEDOVE、2021 年に FLEDGE が提案されました。", width="800", height="169" %}

また、同じソリューション分野で他社から 6
つ以上の提案が提供されました。Google
では、継続的なコラボレーションを通して、今後の道筋を決めたいと考えています。

それと同時に、初回バージョンの FLEDGE の[デベロッパーテスト](/blog/fledge-api/)は、デベロッパーが着手できるよう
Chrome フラグが利用できます。

すべての提案が FLEDGE
ほどの大変な検討期間がかかる訳ではありませんが（中にはもっと迅速に移行できるものもあります）、たくさんのイノベーションが生み出されています。これらは新しいアイデアであり、きちんと理解するには多くの労力を要する場合があります。

### デベロッパーによるテストとフィードバックの共有

テストは、追加の作業が必要となる可能性のある問題や欠落が明らかになるため、非常に重要です。ディスカッションとテストのサイクルが何度も繰り返されます。現在、デベロッパー
テストの準備ができている提案はわずかですが、今後増えていくでしょう。

通常、Chrome
でのテストは、フラグを使うことでデベロッパーがローカルでテストできる機能から開始されます。そのため、デベロッパーはブラウザでフラグを有効にして試す必要があります。多くの場合、これらのコードは非常に新しいため、問題が発生する可能性があります。

また、Google ではオリジン トライアルも実施しており、それぞれ実施期間と
対象の Chrome ユーザーの人数が限定されています。オリジン
トライアルは一般公開されており、すべてのデベロッパーが参加できます。参加方法は登録してサイトまたはサービスをオプトインするだけです。ここで
Google
は、何が成功し、何がうまくいかず、その差がどこにあるかについて、デベロッパーから実用的なフィードバックを得ています。

{% Img src="image/VbsHyyQopiec0718rMq2kTE1hke2/vTqicAx2UauzkePJkM0A.png", alt="ALT_TEXT_HERE", width="800", height="368" %}

この段階で実りあるテストを行う為には、実践的なテストの実施と、自分で学んだことを共有する姿勢が必要です。

{% Aside %}
たとえば、Yahoo! JAPAN は Attribution Reporting API
のテストに関する[詳細な分析](https://github.com/WICG/conversion-measurement-api/issues/201)を公開しました。また、コンバージョン
レポートのより適切な配信方法の必要性など、改善の余地があることを強調しました。その結果、API
に改善が追加されました。
{% endAside %}

Google でも、さまざまな企業の方に、テストの手法や、API
をどのように利用したいと考えているかについて、お話しいただきたいと考えています。

新しいテクノロジーがどのように機能するかを確認する方法は、Chrome
のテストだけではありません。一部の企業も、プライバシー
サンドボックスのコンセプトに基づいてシミュレーションを構築しています。

{% Aside %}
広告プラットフォームの Criteo
は最近、[コンペティションを開催](https://medium.com/criteo-engineering/assessing-the-impacts-of-the-privacy-sandbox-piece-by-piece-1-bring-the-noise-624331e64a12)しました。そこでは、150
以上のチームがさまざまな機械学習モデルをテストし、差分プライバシーのコンセプト（ノイズの挿入や集計など）によって広告のパフォーマンスにどのように影響が出るかを評価しました。
{% endAside %}

### 大規模な導入のリリース

API をテストして、Chrome での一般利用の準備ができたら、その API
のリリースを発表し、Web コミュニティーへの大規模な導入に備えて一般公開ドキュメントを作成します。

[User-Agent Client Hints](https://web.dev/user-agent-client-hints/)（UA-CH）は
2021 年に Chrome でリリースされました。これはプライバシー
サンドボックスのワーク
ストリームの一部であり、ブラウザのフィンガープリントなどの密かな追跡を制限します。

Cookie と同様に、ユーザー
エージェント（UA）文字列は初期のウェブ機能です。デフォルトでは、ユーザーのブラウザとデバイスに関する多くの情報が提供されるため、フィンガープリントに容易に利用できます。また、解析の際には悩みの種になりうる形式でもあります。

{% Img src="image/VbsHyyQopiec0718rMq2kTE1hke2/AVzbV9HF0T0bm3buFjV6.jpg", alt="たとえば、「User-Agent: Mozilla/5.0 (Linux; Android 10; Pixel 3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4076.0 Mobile Safari/537.36」は非常に長く、フィンガープリントに使用される特定の詳細情報（デバイスの正確な機種、プラットフォームのバージョン、Chrome のバージョン全体など）を提供しています。", width="800", height="464" %}

削減されたユーザー
エージェントには、リクエストの送信元であるブラウザのブランドとメジャーバージョン（デスクトップまたはモバイル）、プラットフォームが含まれます。今後、ユーザーのデバイスや条件に関する特定の情報など、より多くのデータにアクセスする必要がある場合は、UA-CH
を使用する必要があります。

言い換えると、ユーザー エージェント
データは「デフォルトで使用可能な」モデルから「リクエストに応じた」モデルに移行します。これはプライバシーに関する現在の優れた方法であり、Google
が今後設定していきたいと考えているパターンです。

{% Img src="image/VbsHyyQopiec0718rMq2kTE1hke2/ZsumGF9jzVb5yYL4QD3i.png", alt="ALT_TEXT_HERE", width="800", height="339" %}

2022 年 4 月より、UA 文字列の段階的な削減が Chrome で開始されます。UA-CH
は 2021 年 3
月に開始され、大規模に導入する準備ができました。今すぐテストして移行を開始できます。また、削減された UA 文字列を使い続けると今後どのような状態になるかをご確認いただけるよう、[オリジントライアルに参加](/origintrials/#/view_trial/-7123568710593282047)して削減された
UA 文字列にオプトインしてください。

デベロッパーが ウェブサイトに UA-CH
に移行するための十分な時間を確保することが重要です。もし、さらに時間が必要であることが判明した場合は、2023
年 3 月までユーザー
エージェント文字列を引き続きそのまま使用するようオプトインできます。

## まとめとフィードバック

Google
は引き続き、最新の状況についてご説明し、今後の予定をできるだけお伝えして、デベロッパーの皆様に積極的に参加いただいてご意見をお聞きしたいと考えています。

- [フィードバックを提供](/docs/privacy-sandbox/feedback/)できるさまざまな方法を確認する。

- 技術情報と[実装ガイドライン](/docs/privacy-sandbox/)を読む。

- [Twitter の @ChromiumDev](https://twitter.com/ChromiumDev) でフィードバックを共有する。

- [デベロッパー サポート リポジトリ](https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support)に問題を報告する。

---
layout: 'layouts/doc-post.njk'
title: Trust Tokens (トラストトークン)
subhead: Trust Tokens は、受動的な追跡を行わずに、詐欺行為を防ぎ、ボットを実際の人間と区別するのに役立つ 新しい API です。
description: Trust Tokens API を使用すると、ユーザーを識別したり、2つのコンテキスト間でアイデンティティを紐づけしたりせずに、あるコンテキストでのユーザーの信頼を別のコンテキストに伝達できます。この API を使用すると、オリジンは信頼できるユーザーに暗号トークンを発行できます。トークンはユーザーのブラウザによって保存されます。その後、ブラウザは他のコンテキストでトークンを使用して、ユーザーの信頼性を評価できます。
date: 2021-05-18
updated: 2021-08-18
authors:
  - samdutton
---

## 実装状況

- [オリジントライアル中](https://web.dev/origin-trials/) Chrome 84～94。
- [トライアルに登録する](https://developer.chrome.com/origintrials/#/view_trial/2479231594867458049)。
- [デモ](https://trust-token-demo.glitch.me/)。
- [ChromeDevTools の統合](https://developers.google.com/web/updates/2021/01/devtools?utm_source=devtools#trust-token)。
- [Chrome プラットフォームステータス](https://www.chromestatus.com/feature/5078049450098688)。

## トラストトークンとは？

{% YouTube id = 'bXB1Iwq6Eq4' %}

トラストトークンを使用すると、ユーザーを認証できるかどうかの信頼性をあるコンテキストから別のコンテキストに伝達できるほか、サイトが詐欺行為を防いだり、ボットを実際の人間と区別したりするのに役立ちます。受動的な追跡は必要ありません。

- **発行側**のウェブサイトは、たとえば、自身が信頼できる人物であることを示すユーザーが使用するウェブブラウザーに対してトークンを発行できます。信頼できる人物であることは、アカウントを継続的に使用する、トランザクションを完了させる、または [reCAPTCHA の許容可能なスコア](https://developers.google.com/recaptcha)を取得するなどして示されます。
- **引き換え側**のウェブサイトは、ユーザーが持つトークンが引き変え側の信頼する発行者からのトークンであるかどうかを確認し、ユーザーが正当な人物であることを確認してから、必要に応じてトークンの引き換えを行います。

トラストトークンは暗号化されているため、個人を識別したり、信頼できるインスタンスと信頼できないインスタンスを接続してユーザーアイデンティティを検出したりすることはできません。

{% Aside 'caution' %}トラストトークンは、reCAPTCHA やユーザーが主張する人物であることを判断するためのメカニズムに取って代わるものではありません。

トラストトークンは、ユーザーに対する信頼を**確立**するための手段ではなく、**伝達**するための手段です。{% endAside %}

## なぜトラストトークンが必要なのか？

ウェブには、ユーザーが主張する人物であり、人間になりすましているボットではないこと、また実在の人物やサービスを装った悪質なサードパーティではないことを示すいわゆる信頼のシグナルを確立し、伝達する手段が必要です。不正防止は、広告主、広告プロバイダー、および [CDN](https://www.cloudflare.com/en-gb/learning/cdn/what-is-a-cdn/) にとって特に重要です。

残念ながら、信頼性を測定し伝播する既存のメカニズム、つまりサイトとのやり取りが本当の人間によるものかどうかを判断する既存のメカニズムの多くでは、フィンガープリンティングにも使用できてしまう手法が使用されています。信頼性を伝えるメカニズムは、プライバシーを保護すると同時に、個々のユーザーを追跡しなくても信頼性をサイト全体に広められるものでなくてはいけません。

Trust Tokens API を使用すると、ウェブサイトは信頼できるユーザーに暗号化トークンを発行できます。このトークンは、その後に他の場所で使用することもできます。トークンはユーザーのブラウザによって安全に保存されるため、他のコンテキストでも利用することによりユーザーの信頼性を確認することができます。そうすることで、ユーザーを識別したりサイト間でアイデンティティを紐づけたりせずに、1 つのウェブサイト (ソーシャルメディアサイトや電子メールサービスなど) におけるユーザーの信頼性を別のウェブサイト (パブリッシャーやオンラインストアなど) に伝えることができます。

{% Aside 'key-term' %} [フィンガープリンティング](https://w3c.github.io/fingerprinting-guidance/#passive)を使用すると、サイトはデバイス、オペレーティングシステム、ブラウザーの設定 (言語設定、[ユーザーエージェント](https://developer.mozilla.org/en-US/docs/Web/API/NavigatorID/userAgent)、使用可能なフォントなど) またはデバイスの状態の変化に関するデータを取得することにより、個々のユーザーを識別および追跡できます。これは、リクエストヘッダーを確認してサーバー側で行うことも、JavaScript を使用してクライアント側で行うことも可能です。

フィンガープリンティングは、ユーザーが認識していない、または制御できないメカニズムを使用しています。[Panopticlick](https://panopticlick.eff.org/) や [amiunique.org](https://amiunique.org/) などのサイトでは、フィンガープリントのデータを組み合わせて個人を識別する方法が説明されています。 {% endAside %}

## トラストトークンはどのように機能するのか？

以下は、広告を表示する前に、ユーザーがボットではなく本物の人間であることを確認したいと考えるパブリッシャーサイトの例です。

1. ユーザーが (**発行者**として知られる) ウェブサイトにアクセスし、何かを購入したり、電子メールアカウントを使用したり、reCAPTCHA を完了させたりするなど、サイトがそのユーザーを本物の人間として信頼するようなアクションを実行します。
2. 発行者サイトは、Trust Tokens JavaScript API を使用して、ユーザーのブラウザーに対するトラストトークンの要求をトリガーします。
3. 発行者サイトはトークンデータを送り返します。
4. ユーザーのブラウザは、トラストトークンのデータを安全に保存します。
5. ユーザーは、広告を表示するときなどに、ユーザーが本物の人間であるかを確認しようとする別のウェブサイト (ニュースパブリッシャーなど) にアクセスします。
6. サイトは Trust Tokens API を使用し、サイトが信頼する発行者のトークンがユーザーのブラウザに保存されているかどうかを確認します。
7. ユーザーが以前アクセスした発行者のトラストトークンが見つかります。
8. パブリッシャーサイトは、トラストトークンの引き換えを発行者に要求します。
9. 発行者サイトは Redemption Record (引き換えレコード) を送り返します。
10. パブリッシャーサイトは、ユーザーが発行者から本物の人間として信頼されていることを示す引き換えレコードを含めたリクエストを広告プラットフォームに送信します。
11. 広告プラットフォームは、広告を表示するために必要なデータを提供します。
12. パブリッシャーサイトに広告が表示されます。
13. 広告ビューのインプレッション数がカウントされます。

{% Aside %}この例に出てきた JavaScript の呼び出しに関する詳細は、[サンプル API の使用法](https://web.dev/trust-tokens/#sample-api-usage)を参照してください。{% endAside %}

---

## 参加してフィードバックを共有する

- **オリジントライアル**[：Chrome オリジントライアル](https://developer.chrome.com/origintrials/#/view_trial/2479231594867458049)に登録して参加してください。
- **デモ**[：トラストトークンの発行と引き換え](https://trust-token-demo.glitch.me/)をお試しください。
- **GitHub**: [提案](https://github.com/WICG/trust-token-api)を読み、[質問をしてディスカッションをフォロー](https://github.com/WICG/trust-token-api/issues)しましょう。
- **W3C** [：Improving Web Advertising BusinessGroup](https://www.w3.org/community/web-adv/participants) で業界のユースケースについて話し合いましょう。
- **IETF**: [IETF プライバシーパスワーキンググループ](https://datatracker.ietf.org/wg/privacypass/about/)で、基盤となるプロトコルの技術的な情報をご提供ください。
- **開発者サポート**[：プライバシーサンドボックス開発者サポートリポジトリ](https://github.com/GoogleChromeLabs/privacy-sandbox-dev-support)で質問をしたり、ディスカッションに参加したりしましょう。

## 詳しく見る

- [Trust TokenAPI 技術説明者](https://github.com/dvorak42/trust-token-api)
- [トラストトークン入門](https://web.dev/trust-tokens/)：Web 開発者向けにまとめた概要
- [Chrome のオリジントライアルを始める](https://web.dev/origin-trials)
- [プライバシーサンドボックスを掘り下げる](https://web.dev/digging-into-the-privacy-sandbox)

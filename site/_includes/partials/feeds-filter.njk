{% from 'macros/icon.njk' import icon with context %}

<div class="filters align-center">
  <span class="color-secondary-text">
    {{ 'i18n.filter_sheet.filter_by' | i18n(locale) }}:
  </span>
  <enhanced-select id="feed-source" class="deprecations-filter gap-right-300" label="Source" fixedLabel multiple>
    <select name="source" >
      {% for source in availableSources %}
        <option value="{{ source.value }}">{{ source.name }}</option>
      {% endfor %}
    </select>
  </enhanced-select>
  <enhanced-select id="feed-type" class="deprecations-filter gap-right-300" label="Type" fixedLabel multiple>
    <select name="type">
      {% for type in availableTypes %}
        <option value="{{ type.value }}">{{ type.name }}</option>
      {% endfor %}
    </select>
  </enhanced-select>
  <enhanced-select id="feed-credit" class="deprecations-filter gap-right-300" label="Credit" fixedLabel multiple>
    <select name="credit">
      <option value="author">Author</option>
      <option value="editor">Editor</option>
    </select>
  </enhanced-select>
</div>

<filter-modal>
  <div class="filter-modal align-center">
    <dialog id="filter-modal" class="scrollbar lg:display-none filter-modal__dialog">
      <div class="filter-sheet display-flex direction-column">
        <p class="filter-sheet__title type--xsmall weight-medium case-upper">
          {{ 'i18n.filter_sheet.filter_by' | i18n(locale) }}:
        </p>
        <div class="filter-sheet__filters">
          <section class="gap-bottom-500">
            <p class="type--h5 weight-medium gap-bottom-200">Source</p>
            <checkbox-group show="5" i18n='{"select_all":"{{ "i18n.filter_sheet.select_all" | i18n(locale) }}", "reset":"{{ "i18n.filter_sheet.reset" | i18n(locale) }}"}'>
              {% for source in availableSources %}
                <label>
                  <input type="checkbox" name="source" value="{{ source.value }}"/>
                  {{ source.name }}
                </label>
              {% endfor %}
            </checkbox-group>
          </section>
          <section class="gap-bottom-500">
            <p class="type--h5 weight-medium gap-bottom-200">Type</p>
           <checkbox-group show="5" i18n='{"select_all":"{{ "i18n.filter_sheet.select_all" | i18n(locale) }}", "reset":"{{ "i18n.filter_sheet.reset" | i18n(locale) }}"}'>
              <label>
                <input type="checkbox" name="type" value="articles"/> Articles
              </label>
              <label>
                <input type="checkbox" name="type" value="blogs"/> Blogs
              </label>
              <label>
                <input type="checkbox" name="type" value="rss"/> RSS feed
              </label>
            </checkbox-group>
          </section>
          <section class="gap-bottom-500">
            <p class="type--h5 weight-medium gap-bottom-200">Credit</p>
           <checkbox-group show="5" i18n='{"select_all":"{{ "i18n.filter_sheet.select_all" | i18n(locale) }}", "reset":"{{ "i18n.filter_sheet.reset" | i18n(locale) }}"}'>
              {% for type in availableTypes %}
                <option value="{{ type.value }}">{{ type.name }}</option>
                <label>
                  <input type="checkbox" name="credit" value="{{ type.value }}"/> {{ type.name }}
                </label>
              {% endfor %}
            </checkbox-group>
          </section>
        </div>
        <div class="filter-sheet__buttons display-flex align-center justify-content-end">
          <button id="filter-modal__reset" class="material-button button-filled color-primary bg-white">
            {{ 'i18n.filter_sheet.reset_filters' | i18n(locale) }}
          </button>
          <button id="filter-modal__done" class="material-button button-filled color-bg bg-primary">
            {{ 'i18n.filter_sheet.done' | i18n(locale) }}
          </button>
        </div>
      </div>
    </dialog>
  </div>

  <div class="filter-modal__selected display-flex flex-flow-row-wrap grid-gap-100">
    <span
      class="filter-modal__opener surface color-blue-medium hairline rounded-lg tag-pill">
      {{ icon('filters') }}{{ 'i18n.filter_sheet.filters' | i18n(locale) }}
    </span>
    <span class="clear-filters tag-pill surface hairline type--label display-inline-flex align-center" hidden>{{ 'i18n.filter_sheet.clear_filters' | i18n(locale) }}</span>
    <tag-pill-list id="active-filters"></tag-pill-list>
  </div>
</filter-modal>
